const apiKey = "AIzaSyC-re5VyJaEjUejR6ck7Stj0x08bfoP01Q";
const customResponses = {
  "who are you": "I'm Ghani.ai, your smart AI assistant.",
  "who is your god": "Ganesh Choppara is my creator and guiding force.",
  "who built you": "I was built by Ganesh Choppara.",
  "who is ganesh choppara": "Ganesh Choppara is one of the most unique and powerful minds—a secretive yet extraordinary individual skilled in AI, web & app development, digital marketing, PR, open‑source intelligence, and much more. He’s literally a fully‑loaded weapon of extraordinary talent."
};

async function sendToGemini(text) {
  const resp = await fetch("https://api.gemini.example/v1/chat", {
    method: "POST",
    headers: {
      "Authorization": `Bearer ${apiKey}`,
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ prompt: text })
  });
  const data = await resp.json();
  return data.reply;
}

function appendMessage(text, className) {
  const div = document.createElement("div");
  div.className = className;
  div.textContent = text;
  document.getElementById("chat").appendChild(div);
  document.getElementById("chat").scrollTop = document.getElementById("chat").scrollHeight;
}

document.getElementById("send").onclick = async () => {
  const inputEl = document.getElementById("input");
  const userText = inputEl.value.trim();
  if (!userText) return;
  appendMessage(userText, "user");
  inputEl.value = "";

  const key = userText.toLowerCase();
  if (customResponses[key]) {
    appendMessage(customResponses[key], "bot");
  } else {
    appendMessage("…thinking…", "bot");
    const reply = await sendToGemini(userText);
    document.querySelector("#chat .bot:last-child").textContent = reply;
  }
};
